$(document).ready(function () {
  itemNav = document.querySelectorAll(".item-container .item-nav");
  itemNav.forEach((item) => {
    item.addEventListener("click", () => {
      window.scrollTo({
        top: 0,
        behavior: "smooth", // Optional: smooth scrolling animation
      });
      document.querySelector(".active-nav").classList.remove("active-nav");
      item.classList.add("active-nav");

      //
      document.querySelector(".active-page").classList.remove("active-page");

      if (item.getAttribute("value") == "home") {
        document.querySelector(".voucher").classList.add("active-page");
        console.log("real home");
      } else {
        document.querySelector(".home").classList.add("active-page");
      }
      setTimeout(() => {
        swiper.update();
      }, 200);
    });
  });

  // Main container

  var swiper = new Swiper(".swiper-1", {
    slidesPerView: 3,
    spaceBetween: 0,
    loop: true,
    navigation: {
      nextEl: ".main-slide .swiper-button-next",
      prevEl: ".main-slide .swiper-button-prev",
    },
  });

  var swiper2 = new Swiper(".swiper-2", {
    slidesPerView: 1,
    spaceBetween: 0,
    // loop: true,
    effect: "fade",
    navigation: {
      nextEl: ".swiper-button-next.modal-next",
      prevEl: ".swiper-button-prev.modal-prev",
    },
    pagination: {
      el: ".modal-body .swiper-pagination",
      clickable: true,
    },
  });

  navMainItems = document.querySelectorAll(".main-slide .nav-slide-item");
  navMainItems.forEach((element) => {
    element.addEventListener("click", () => {
      document.querySelector(".main-slide-active-nav-item").classList.remove("main-slide-active-nav-item");
      element.classList.add("main-slide-active-nav-item");
      // alert("123");
      var myModal = new bootstrap.Modal(document.getElementById("exampleModalLong"));

      myModal.show();
      swiper.update();
      setTimeout(() => {
        swiper2.update();
        swiper2.slideTo(1, 0, false);
      }, 300);
    });
  });

  changeModalContent = (id) => {};

  //Change title nav

  navTitles = document.querySelectorAll(".title-nav");
  navTitles.forEach((titleNav) => {
    titleNav.addEventListener("click", () => {
      titleContainer = titleNav.closest(".title-car-container");
      swiperSlide = titleNav.closest(".swiper-slide");
      console.log(titleContainer);
      navInContainer = titleContainer.querySelectorAll(".title-nav");
      if (navInContainer.length > 1) {
        //change title butoon
        titleContainer.querySelector(".active-title-nav").classList.remove("active-title-nav");
        titleNav.classList.add("active-title-nav");
        // change content
        pageTarget = swiperSlide.querySelector(`.page-${titleNav.getAttribute("value")}`);
        currentPage = swiperSlide.querySelector(".page-modal-active");
        currentPage.classList.remove("page-modal-active");
        pageTarget.classList.add("page-modal-active");

        console.log(pageTarget);
      }
    });
  });
});

// write function convert string to number

// write function change background when click on button has id = "haha"
